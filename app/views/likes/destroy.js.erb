var div = ".<%= dom_id(@likeable, :feed) %>";

$(div).each(function(_,e){
  if ($(e).parents(".modal-body-text").length) {
    if (<%= @likeable.class == Comment %>) {
      $(e).replaceWith("<%= j render '/comments/comment_modal', comment: @likeable %>");
    } else {
      $(e).replaceWith("<%= j render 'photos/photo_comment', photo: @likeable %>");
    }
  } else {
    $(e).replaceWith("<%= j render partial: @likeable %>");
  }
});

// a weird rendering issue in chrome caused information to not be displayed
setTimeout(function(){
  $('.modal-body-text').hide(0, function() { $('.modal-body-text').show() });
  console.log("ran set timeout")
},10);

// some stuff moved to notes.txt
